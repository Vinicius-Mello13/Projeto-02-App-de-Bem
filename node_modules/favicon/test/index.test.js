var should  = require('should')
  , favicon = require(__dirname + '/../');

describe("favicon", function() {
  it("discovers a favicon.ico in the web site root", function(done) {
    favicon("../Favicon/icon-laranja.ico/", function(err, url) {
      if (err) return done(err);
      url.should.eql("../Favicon/icon-laranja.ico");
      done();
    });
  });
  
  it("discovers a favicon found from a <link> tag", function(done) {
    favicon("../Favicon/icon-laranja.ico", function(err, url) {
      if (err) return done(err);
      url.should.eql("../Favicon/icon-laranja.ico");
      done();
    });
  });
  
  it("can handle https protocol", function(done) {
    favicon("../Favicon/icon-laranja.ico", function(err, url) {
      if (err) return done(err);
      url.should.eql("../Favicon/icon-laranja.ico")
      done();
    });
  });
  
  it("handles single quotes", function(done) {
    favicon("../Favicon/icon-laranja.ico", function(err, url) {
      if (err) return done(err);
      url.should.eql("../Favicon/icon-laranja.ico");
      done();
    });
  });
});
